---
title: 'Snippets: General R'
author: ''
date: '2018-07-10'
slug: snippets-general-r
categories:
  - R
tags:
  - R
  - RStudio
summary: "Tips and useful commands for general R and RStudio."
output:
  blogdown::html_page:
    toc: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
pacman::p_load(tidyverse, here, blogdown)
```

Snippet files periodically updated. These functions and commands are relevant for working with R and RStudio. 

# Easily updating R

The `updateR` package is fantastic. Just using this line of code with the admin_password set will update everything and keep all packages in the new version of R. 

```{r, eval = FALSE}
updateR(admin_password = "admin_password")
```

# Finding all functions in a package

This is especially useful when using a dev version of a package. Often, there are github files, but it's sometimes easier to just use `asNamespace` to see functions. 

For example, let's look at the functions available within the spotifyR package. 

```{r, echo = TRUE}
library(spotifyr)
fns <- unclass(lsf.str(envir = asNamespace("spotifyr"), all = T))

fns
```

# Getting the names of datasets within a package

If in RStudio, you can simply use `data(package = "package_name")` and a new window will open up with a list. 

Or by using the `data()` function we can find datasets and information about each. 

```{r}
d <- data(package = "dplyr")
# names can be pulled 
d$results[, 'Item']
```

While it's probably not necessary to do this, it's also possible to pull the dimensions for the promised data. 

```{r}
d <- data(package = "dplyr")
# assign 
nm <- d$results[, 'Item']
# call the promised data
data(list = nm, package = "dplyr")
# get dimensions
lapply(mget(nm), dim)
```


# Loading all functions within a folder

The `R.utils` package also has a command for this, but this is a simple way to source all of your functions at once. 

```{r eval = FALSE}
# set directory location, or use here() rather than glue
# load functions
file.sources = list.files(path = glue(dir, "functions"), pattern="*.R")
sapply(glue("{dir}functions/{file.sources}"), source, .GlobalEnv)
```
